"use strict";var PhotoViewer={LEFT_KEY:37,RIGHT_KEY:39,ESC_KEY:27,BODY_HTML:'<div style="display: none; width: 100%; position: absolute;                             background-color: rgba(255, 255, 255, 0.8); z-index: 10;"                      id="photoviewer-canvas">                         <div id="spinner" style="margin-left: auto; margin-right: auto; margin-top:                                     calc(50% - 2px); height: 36px; width: 28px;">                             <div class="mdl-spinner mdl-js-spinner is-active"></div>                         </div>                     </div>',PHOTO_HTML:'<div id="photoviewer-photo" style="display: none; position: absolute;                           z-index: 11; width: 90%; background-position: center;                           background-repeat: no-repeat; background-size: contain;">                  </div>',images:[],current_image:undefined,init:function(){var i=0;$("[data-photoviewer]").each(function(){$(this).click(PhotoViewer.photo_clicked);$(this).data("photoviewer-index",i);PhotoViewer.images.push($(this).attr("href"));i++});$("body").append(PhotoViewer.BODY_HTML);$("body").append(PhotoViewer.PHOTO_HTML);$("#photoviewer-canvas").click(PhotoViewer.hide_viewer);$("#photoviewer-photo").click(PhotoViewer.hide_viewer);$(window).resize(PhotoViewer.update_size);PhotoViewer.update_size();$(document).keyup(function(e){if(e.keyCode==PhotoViewer.ESC_KEY){PhotoViewer.hide_viewer()}else if(e.keyCode==PhotoViewer.LEFT_KEY){PhotoViewer.previous_image()}else if(e.keyCode==PhotoViewer.RIGHT_KEY){PhotoViewer.next_image()}})},display_photo:function(src,idx){$("#photoviewer-photo").css("background-image",'url("'+src+'")');$("#photoviewer-photo").show();PhotoViewer.current_image=idx},photo_clicked:function(event){event.preventDefault();var src=$(this).attr("href");var idx=parseInt($(this).data("photoviewer-index"));$("#photoviewer-canvas").show();PhotoViewer.display_photo(src,idx)},hide_viewer:function(){$("#photoviewer-photo").hide();$("#photoviewer-canvas").hide()},next_image:function(){var next=PhotoViewer.current_image+1;next=next==PhotoViewer.images.length?0:next;PhotoViewer.display_photo(PhotoViewer.images[next],next)},previous_image:function(){var next=PhotoViewer.current_image-1;next=next<0?PhotoViewer.images.length-1:next;PhotoViewer.display_photo(PhotoViewer.images[next],next)},update_size:function(){var height=$(window).height();var width=$(window).width();$("#photoviewer-canvas").css("height",height+"px");$("#photoviewer-photo").css("height",.9*height+"px");$("#photoviewer-photo").css("top",.05*height+"px");$("#photoviewer-photo").css("left",.05*width+"px");$("#spinner").css("margin-top",.5*height-18+"px")}};